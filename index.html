<!DOCTYPE html>
<html lang="fr">
  <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Scanner de Couleur</title>
      <!-- Tailwind CSS CDN -->
      <script src="https://cdn.tailwindcss.com"></script>
      <!-- Google Fonts: Plus Jakarta Sans -->
      <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
      <!-- React & ReactDOM CDN -->
      <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
      <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
      <!-- Babel for JSX -->
      <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
      <!-- Lucide Icons -->
      <script src="https://unpkg.com/lucide@latest"></script>
      
      <script>
                tailwind.config = {
                              theme: {
                                                extend: {
                                                                      colors: {
                                                                                                'off-white': '#F9F9F9',
                                                                                                'charcoal': '#1A1A1A',
                                                                                                'stitch-blue': '#135BEC',
                                                                                                'muted-slate': '#64748B',
                                                                      },
                                                                      fontFamily: {
                                                                                                sans: ['Plus Jakarta Sans', 'sans-serif'],
                                                                      },
                                                                      borderRadius: {
                                                                                                'twelve': '12px',
                                                                      }
                                                }
                              }
                }
                  </script>
        <style>
                  body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #F9F9F9; color: #1A1A1A; }
                  .glass-morphism { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); }
                  .tab-active { color: #135BEC; }
              </style>
  </head>
  <body class="flex justify-center items-start min-h-screen">
        <div id="root" class="w-full max-w-md h-[100vh] relative overflow-hidden bg-off-white shadow-2xl flex flex-col"></div>div>

        <script type="text/babel">
                  const { useState, useEffect } = React;

                  // --- Layout Component ---
                  const Layout = ({ children, currentTab, setPage }) => {
                                return (
                                                  <div className="flex flex-col h-full w-full">
                                                                        <main className="flex-1 overflow-y-auto pb-20">
                                                                          {children}
                                                                        </main>
                                                    {currentTab && (
                                                                            <nav className="fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md bg-white border-t border-gray-100 px-8 py-4 flex justify-around items-center z-50">
                                                                                                          <button onClick={() => setPage('scanner')} className={`flex flex-col items-center ${currentTab === 'scanner' ? 'text-stitch-blue' : 'text-muted-slate'}`}>
                                                                                                                                            <i data-lucide="camera" className="w-6 h-6"></i>
                                                                                                                                            <span className="text-[10px] mt-1 font-medium">Scanner</span>
                                                                                                            </button>
                                                                                                          <button onClick={() => setPage('palettes')} className={`flex flex-col items-center ${currentTab === 'palettes' ? 'text-stitch-blue' : 'text-muted-slate'}`}>
                                                                                                                                            <i data-lucide="grid" className="w-6 h-6"></i>
                                                                                                                                            <span className="text-[10px] mt-1 font-medium">Mes Palettes</span>
                                                                                                            </button>
                                                                                                          <button onClick={() => setPage('shops')} className={`flex flex-col items-center ${currentTab === 'shops' ? 'text-stitch-blue' : 'text-muted-slate'}`}>
                                                                                                                                            <i data-lucide="map-pin" className="w-6 h-6"></i>
                                                                                                                                    <span className="text-[10px] mt-1 font-medium">Carte</span>
                                                                              </button>
                                                    </nav>
                                                                        )}
                                                  </div>
                                              );
                  };
          

                  // --- 1. Onboarding Screen ---
                  const Onboarding = ({ onStart }) => {
                                useEffect(() => { lucide.createIcons(); }, []);
                                return (
                                                  <div className="flex flex-col h-full animate-fadeIn">
                                                                        <div className="relative h-2/3 overflow-hidden rounded-b-[40px] shadow-lg">
                                                                                                  <div className="absolute inset-0 bg-gradient-to-tr from-indigo-500 via-blue-400 to-pink-300 opacity-80 animate-pulse"></div>
                                                                                                  <div className="absolute inset-0 flex items-center justify-center">
                                                                                                                                <i data-lucide="focus" className="w-32 h-32 text-white/40"></i>
                                                                                                    </div>
                                                                        </div>
                                                                        <div className="flex-1 px-8 pt-10 flex flex-col items-center">
                                                                                                  <h1 className="text-3xl font-bold text-center leading-tight">Bienvenue dans <br/>Scanner de Couleur</h1>
                                                                                                  <p className="text-muted-slate mt-4 text-center text-sm leading-relaxed px-4">
                                                                                                                                Decouvrez et capturez l'essence des couleurs qui vous entourent, sans distractions.
                                                                                                    </p>
                                                                                                  <button 
                                                                                                                                onClick={onStart}
                                                                                                                                className="w-full mt-10 bg-stitch-blue text-white py-4 rounded-twelve font-semibold shadow-lg active:scale-95 transition-all"
                                                                                                                            >
                                                                                                                                Commencer le scan
                                                                                                    </button>
                                                                        </div>
                                                  </div>
                                              );
                  };

                  // --- 2. Scanner Screen ---
                  const Scanner = ({ onCapture }) => {
                                useEffect(() => { lucide.createIcons(); }, []);
                                const [color, setColor] = useState('#E5E7EB');

                                return (
                                                  <div className="flex flex-col h-full animate-fadeIn">
                                                                        <div className="relative flex-1 bg-black m-4 rounded-twelve overflow-hidden">
                                                                          {/* Mock Camera View */}
                                                                                                  <div className="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1513519245088-0e12902e35ca?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center"></div>

                                                                          {/* Viewfinder Overlay */}
                                                                                                  <div className="absolute inset-0 flex items-center justify-center">
                                                                                                                                <div className="w-48 h-48 border-[1px] border-white/40 rounded-twelve relative">
                                                                                                                                                                  <div className="absolute -right-2 top-1/2 -translate-y-1/2 flex flex-col items-center">
                                                                                                                                                                                                        <div className="w-6 h-6 rounded-full border-2 border-white shadow-xl bg-white flex items-center justify-center">
                                                                                                                                                                                                                                                 <div className="w-4 h-4 rounded-full" style={{ backgroundColor: color }}></div>
                                                                                                                                                                                                                                              </div>
                                                                                                                                                                                                        <span className="text-[8px] text-white mt-1 font-bold">{color}</span>
                                                                                                                                                                    </div>
                                                                                                                                  </div>
                                                                                                    </div>

                                                                          {/* Top Controls */}
                                                                                                  <div className="absolute top-6 left-6 right-6 flex justify-between text-white">
                                                                                                                                <button className="bg-black/20 p-2 rounded-full"><i data-lucide="zap" className="w-5 h-5"></i></button>
                                                                                                                                <button className="bg-black/20 p-2 rounded-full"><i data-lucide="refresh-cw" className="w-5 h-5"></i></button>
                                                                                                    </div>
                                                                        </div>

                                                                        <div className="pb-10 pt-4 flex flex-col items-center">
                                                                                                  <button 
                                                                                                                                onClick={() => onCapture(color)}
                                                                                                                                className="bg-stitch-blue w-20 h-20 rounded-full border-4 border-white shadow-2xl flex items-center justify-center active:scale-90 transition-all"
                                                                                                                            >
                                                                                                                                <div className="w-16 h-16 rounded-full border-2 border-white/20"></div>
                                                                                                    </button>
                                                                                                  <span className="mt-4 text-[10px] font-bold uppercase tracking-widest text-muted-slate">Capturer la couleur</span>
                                                                        </div>
                                                  </div>
                                              );
                  };

                  // --- 3. Palettes Screen ---
                  const Palettes = () => {
                                useEffect(() => { lucide.createIcons(); }, []);
                                const palettes = [
                                  { id: 1, name: 'Salon Scandinave', colors: ['#EBE6E0', '#B7A38D', '#64748B', '#111827', '#F3F4F6'], time: '2 jours' },
                                  { id: 2, name: 'Minimalist Office', colors: ['#FFFFFF', '#F9FAFB', '#D1D5DB', '#4B5563', '#111827'], time: '1 semaine' },
                                  { id: 3, name: 'Desert Sunset', colors: ['#FDE68A', '#F97316', '#DC2626', '#7C2D12', '#451A03'], time: '3 semaines' }
                                              ];

                                return (
                                                  <div className="px-6 pt-8 animate-fadeIn">
                                                                        <header className="flex justify-between items-center mb-6">
                                                                                                  <h1 className="text-2xl font-bold">Mes Palettes</h1>
                                                                                                  <button className="text-stitch-blue font-bold text-2xl">+</button>
                                                                        </header>

                                                                        <div className="relative mb-6">
                                                                                                  <i data-lucide="search" className="absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"></i>
                                                                                                  <input type="text" placeholder="Rechercher..." className="w-full bg-white rounded-full py-3 pl-12 pr-4 text-sm border-none shadow-sm focus:ring-1 ring-blue-100 outline-none" />
                                                                        </div>

                                                                        <div className="space-y-4">
                                                                          {palettes.map(p => (
                                                                                <div key={p.id} className="bg-white p-5 rounded-twelve shadow-sm hover:shadow-md transition-shadow">
                                                                                                                  <div className="flex justify-between items-start mb-4">
                                                                                                                                                        <h3 className="font-semibold">{p.name}</h3>
                                                                                                                                                        <span className="text-[10px] text-muted-slate uppercase font-bold">Modifie il y a {p.time}</span>
                                                                                                                    </div>
                                                                                                                  <div className="flex space-x-2">
                                                                                                                    {p.colors.map(c => (
                                                                                                                          <div key={c} className="w-full h-8 rounded-md shadow-inner" style={{ backgroundColor: c }}></div>
                                                                                                                      ))}
                                                                                                                    </div>
                                                                                  </div>
                                                                            ))}
                                                                        </div>
                                                  </div>
                                              );
                  };
          
